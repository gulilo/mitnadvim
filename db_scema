account [color:blue] {
  id string pk
  displayName string
  email string
  phone string
  passwordHash string

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

userInfo [color:blue] {
  id string pk
  accountId string fk 
  firstName string
  lastName string
  imageUrl string nullable
  address string
  areaid string fk
  role string

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

userInfo.accountId - account.id
userInfo.areaid - area.id

emergencyContacts [color:blue]{
  id string pk
  userid string fk
  name string
  reletionship string
  phone string
  email string
  address string

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

emergencyContacts.userid > userInfo.id



tag [color:green]{
  id string pk
  name string 
  category string
  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

permissions [color:green]{
  id string pk
  name string
  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

tagPermission [color:green]{
  id string pk
  tagId string fk
  permissionId string fk
  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

tagPermission.tagId > tag.id
tagPermission.permissions > permissions.id

accountTag [color:green] {
  id string pk
  accountId string fk
  tagId string fk
  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

accountTag.accountId > account.id
accountTag.tagId > tag.id




area [color:red]{
  id string pk
  name string

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

launchPoint [color:red]{
  id string pk
  areaid string fk
  name sting

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

launchPoint.areaid > area.id

ambulance [color:red] {
  id string pk
  number string
  atan boolean

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

permenentShift [color:yellow] {
  id string pk
  areaid string fk
  launchPointid string fk
  shiftType string
  weekDay int
  startTime timestamp
  endTime timestamp
  adultOnly boolean
  numberOfSlots int
  ambulanceType string

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

permenentShift.areaid < area.id
permenentShift.launchPointid < launchPoint.id

shift [color: yellow] {
id string pk
  pemanentShiftId string fk
  launchPointsid string fk
  ambulanceId string fk
  driverid stirng fk
  date date
  startTime timestamp
  endTime timestamp
  shiftType string
  adultOnly boolean
  numberOfSlots int
  status string
  
  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

shift.pemanentShiftId > permenentShift.id
shift.driverid - account.id
shift.launchPointsid < launchPoint.id
shift.ambulanceId > ambulance.id

shiftSlot [color: yellow] {
  id string pk
  shiftid string fk
  userid string fk
  status enam 

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

shiftSlot.shiftid < shift.id
shiftSlot.userid  > account.id

notification [color:blue] {
  id string pk
  userid string fk
  title string
  message string
  date timestamp
  read boolean

  createdAt timestamp
  updatedAt timestamp nullable
  createdBy string fk
  updatedBy string fk nullable
}

notification.userid > account.id

